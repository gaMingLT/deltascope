import { type NextPage } from "next";
import Head from "next/head";
import { Box, Grid } from "@mui/material";
import DisplayTimeline from "~/components/Timeline";
import Upload from "~/components/Upload";
import DisplayImages from "~/components/DisplayImages";
import ImageActions from "~/components/ImageActions";
import { useState } from "react";

const Home: NextPage = () => {
  const [directoryName, setDirectoryName] = useState<string>("");
  const [selectedImages, setSelectedImages] = useState<Array<string>>([]);
  const [eventsParent, setEventsParent] = useState<any>();

  return (
    <>
      <Head>
        <title>Delta Scope</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main style={{ height: '100vh' }} >
        {/* Grayis: 8b8b8b */}
        {/* Beige: e1d9c4 */}
        <Grid bgcolor="#e1d9c4" container spacing="2" height="100vh" >
          <Grid
            item
            container
            sx={{ textAlign: "center" }}
            justifyContent="center"
          >
            <h1 className="text-4xl px-2 py-2" >Deltascope</h1>
          </Grid>
          <Grid
            item
            container
          >
            <DisplayTimeline eventsData={eventsParent} />
          </Grid>

          <Grid item container spacing={2}>
            {/* Images */}
            <DisplayImages setParentDirectoryName={setDirectoryName}
            setImages={setSelectedImages} 
            />

            {/* Events */}
            <ImageActions directory={directoryName} images={selectedImages} setEventsParent={setEventsParent} />
          </Grid>

        </Grid>
      </main>
    </>
  );
};

export default Home;
